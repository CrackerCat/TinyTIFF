<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TinyTIFF: Tiny TIFF writer library</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_tinytiff.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TinyTIFF
   </div>
   <div id="projectbrief">a lightweight C/C++ library for reading and writing TIFF files</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__tinytiffwriter.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Tiny TIFF writer library<div class="ingroups"><a class="el" href="group__tinytiff__maingroup.html">TinyTIFF - A lightweight C++ library for Writing and Reading TIFF-files</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__tinytiffwriter__internal"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tinytiffwriter__internal.html">TinyTIFFWriter: Internal functions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga35c08968018b42117ba9e02f138996d7"><td class="memItemLeft" align="right" valign="top"><a id="ga35c08968018b42117ba9e02f138996d7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tinytiffwriter.html#ga35c08968018b42117ba9e02f138996d7">TINYTIFFWRITER_FALSE</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga35c08968018b42117ba9e02f138996d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">a logic value of FALSE, e.g. used by TINYTIFFWRITER_wasError() <br /></td></tr>
<tr class="separator:ga35c08968018b42117ba9e02f138996d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e0b9b4a6e051c597033663b8214c9e1"><td class="memItemLeft" align="right" valign="top"><a id="ga6e0b9b4a6e051c597033663b8214c9e1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tinytiffwriter.html#ga6e0b9b4a6e051c597033663b8214c9e1">TINYTIFFWRITER_TRUE</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga6e0b9b4a6e051c597033663b8214c9e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">a logic value of TRUE, e.g. used by TINYTIFFWRITER_wasError() <br /></td></tr>
<tr class="separator:ga6e0b9b4a6e051c597033663b8214c9e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gae1294b5a68e434d5f340d70f462e4c2d"><td class="memItemLeft" align="right" valign="top"><a id="gae1294b5a68e434d5f340d70f462e4c2d"></a>
typedef struct <a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tinytiffwriter.html#gae1294b5a68e434d5f340d70f462e4c2d">TinyTIFFWriterFile</a></td></tr>
<tr class="memdesc:gae1294b5a68e434d5f340d70f462e4c2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">struct used to describe a TIFF file <br /></td></tr>
<tr class="separator:gae1294b5a68e434d5f340d70f462e4c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga366c67ab9dfdfe17c68460607140e449"><td class="memItemLeft" align="right" valign="top">TINYTIFF_EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tinytiffwriter.html#ga366c67ab9dfdfe17c68460607140e449">TinyTIFFWriter_close</a> (<a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *tiff)</td></tr>
<tr class="memdesc:ga366c67ab9dfdfe17c68460607140e449"><td class="mdescLeft">&#160;</td><td class="mdescRight">close a given TIFF file  <a href="group__tinytiffwriter.html#ga366c67ab9dfdfe17c68460607140e449">More...</a><br /></td></tr>
<tr class="separator:ga366c67ab9dfdfe17c68460607140e449"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87c3007027681975457e9481c418599d"><td class="memItemLeft" align="right" valign="top">TINYTIFF_EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tinytiffwriter.html#ga87c3007027681975457e9481c418599d">TinyTIFFWriter_close_withdescription</a> (<a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *tiff, const char *imageDescription)</td></tr>
<tr class="memdesc:ga87c3007027681975457e9481c418599d"><td class="mdescLeft">&#160;</td><td class="mdescRight">close a given TIFF file and write the given string into the IMageDescription tag of the first frame in the file.  <a href="group__tinytiffwriter.html#ga87c3007027681975457e9481c418599d">More...</a><br /></td></tr>
<tr class="separator:ga87c3007027681975457e9481c418599d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a883fbe4bd0cce48ac504e67b5e1bf3"><td class="memItemLeft" align="right" valign="top">TINYTIFF_EXPORT void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tinytiffwriter.html#ga8a883fbe4bd0cce48ac504e67b5e1bf3">TinyTIFFWriter_close_withmetadatadescription</a> (<a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *tiff, double pixel_width, double pixel_height, double frametime, double deltaz)</td></tr>
<tr class="memdesc:ga8a883fbe4bd0cce48ac504e67b5e1bf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">close a given TIFF file  <a href="group__tinytiffwriter.html#ga8a883fbe4bd0cce48ac504e67b5e1bf3">More...</a><br /></td></tr>
<tr class="separator:ga8a883fbe4bd0cce48ac504e67b5e1bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf443341dec7c3c1201a89ee01dad6a50"><td class="memItemLeft" align="right" valign="top">TINYTIFF_EXPORT const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tinytiffwriter.html#gaf443341dec7c3c1201a89ee01dad6a50">TinyTIFFWriter_getLastError</a> (<a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *tiff)</td></tr>
<tr class="memdesc:gaf443341dec7c3c1201a89ee01dad6a50"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns a pointer to the last error message  <a href="group__tinytiffwriter.html#gaf443341dec7c3c1201a89ee01dad6a50">More...</a><br /></td></tr>
<tr class="separator:gaf443341dec7c3c1201a89ee01dad6a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba2bc0a6b918c8a67fb6aefa83e5a114"><td class="memItemLeft" align="right" valign="top"><a id="gaba2bc0a6b918c8a67fb6aefa83e5a114"></a>
TINYTIFF_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tinytiffwriter.html#gaba2bc0a6b918c8a67fb6aefa83e5a114">TinyTIFFWriter_getMaxDescriptionTextSize</a> ()</td></tr>
<tr class="memdesc:gaba2bc0a6b918c8a67fb6aefa83e5a114"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum size of the imageDescription field in the first frame (including trailing <code>0</code>, which has to be present!) <br /></td></tr>
<tr class="separator:gaba2bc0a6b918c8a67fb6aefa83e5a114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a144ed7117c8b024c3e2fa8d000d1d3"><td class="memItemLeft" align="right" valign="top">TINYTIFF_EXPORT <a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tinytiffwriter.html#ga7a144ed7117c8b024c3e2fa8d000d1d3">TinyTIFFWriter_open</a> (const char *filename, uint16_t bitsPerSample, uint16_t samples, uint32_t width, uint32_t height)</td></tr>
<tr class="memdesc:ga7a144ed7117c8b024c3e2fa8d000d1d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">create a new TIFF file  <a href="group__tinytiffwriter.html#ga7a144ed7117c8b024c3e2fa8d000d1d3">More...</a><br /></td></tr>
<tr class="separator:ga7a144ed7117c8b024c3e2fa8d000d1d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef1f6713057c840699396f4483e21329"><td class="memItemLeft" align="right" valign="top">TINYTIFF_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tinytiffwriter.html#gaef1f6713057c840699396f4483e21329">TinyTIFFWriter_success</a> (<a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *tiff)</td></tr>
<tr class="memdesc:gaef1f6713057c840699396f4483e21329"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns TINYTIFFWRITER_TRUE (non-zero) when there was no error in the last function call, or TINYTIFFWRITER_FALSE if there was an error  <a href="group__tinytiffwriter.html#gaef1f6713057c840699396f4483e21329">More...</a><br /></td></tr>
<tr class="separator:gaef1f6713057c840699396f4483e21329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0178ab29f0f245891db5af6888d8a88d"><td class="memItemLeft" align="right" valign="top">TINYTIFF_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tinytiffwriter.html#ga0178ab29f0f245891db5af6888d8a88d">TinyTIFFWriter_wasError</a> (<a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *tiff)</td></tr>
<tr class="memdesc:ga0178ab29f0f245891db5af6888d8a88d"><td class="mdescLeft">&#160;</td><td class="mdescRight">returns TRUE (non-zero) when there was an error in the last function call, or FALSE (zero) if there was no error  <a href="group__tinytiffwriter.html#ga0178ab29f0f245891db5af6888d8a88d">More...</a><br /></td></tr>
<tr class="separator:ga0178ab29f0f245891db5af6888d8a88d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1df3025eb5ade77792e35a63ec23e58e"><td class="memItemLeft" align="right" valign="top">TINYTIFF_EXPORT int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tinytiffwriter.html#ga1df3025eb5ade77792e35a63ec23e58e">TinyTIFFWriter_writeImage</a> (<a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *tiff, const void *data)</td></tr>
<tr class="memdesc:ga1df3025eb5ade77792e35a63ec23e58e"><td class="mdescLeft">&#160;</td><td class="mdescRight">write a new image to the give TIFF file  <a href="group__tinytiffwriter.html#ga1df3025eb5ade77792e35a63ec23e58e">More...</a><br /></td></tr>
<tr class="separator:ga1df3025eb5ade77792e35a63ec23e58e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The methods in this file allow to write TIFF files with limited capabilites, but very fast. Usually writing TIFF files with a library like libTIFF is relatively slow, when multiple images are written into a single file. The methods in this files overcome this problem by implementing a tiny writer lib that allows to write a TIFF file where all images have the same properties (size, bit depth, ...). This is a situation thet occurs e.g. in cases where a camera acquires a video that should be saved as TIFF file.</p>
<p>The library works like this (write 50 32x32 pixel 8-bit images: </p><div class="fragment"><div class="line"><a class="code" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a>* tif=<a class="code" href="group__tinytiffwriter.html#ga7a144ed7117c8b024c3e2fa8d000d1d3">TinyTIFFWriter_open</a>(<span class="stringliteral">&quot;myfil.tif&quot;</span>, 8, 1, 32, 32);</div>
<div class="line"><span class="keywordflow">if</span> (tif) {</div>
<div class="line">    <span class="keywordflow">for</span> (uint16_t frame=0; frame&lt;50; frame++) {</div>
<div class="line">        uint8_t* data=readImage();</div>
<div class="line">        <a class="code" href="group__tinytiffwriter.html#ga1df3025eb5ade77792e35a63ec23e58e">TinyTIFFWriter_writeImage</a>(tif, data);</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="group__tinytiffwriter.html#ga366c67ab9dfdfe17c68460607140e449">TinyTIFFWriter_close</a>(tif);</div>
<div class="line">}</div>
</div><!-- fragment --><p> The images are written in big- or little-endian according to your system. The TIFF header is set accordingly, so we do not need to shuffle around bytes when writing, but the created TIFF file may differ from hardware system to hardware system, although the same data is written (once in littl-endian, once in big-endian).</p>
<p>Currently this library saves all images as unsigned int, but with given bit-depth (8, 16, 32 or 64). Also this library explicitly writes a resolution of 1 in both directions.</p>
<p>Internally this library works like this: <a class="el" href="group__tinytiffwriter.html#ga7a144ed7117c8b024c3e2fa8d000d1d3" title="create a new TIFF file">TinyTIFFWriter_open()</a> will basically only initialize the internal datastructures and write the TIFF header. It also determines the byte order used by the system and sets the TIFF header acordingly.</p>
<p>As the image size is known, the size of every image in the file can be predetermined (we assume a maximum number of TIFF directory entries). The size will be:</p><pre class="fragment">      MAX_HEADER_ENTRIES*12 + SOME_FREE_SPACE + WIDTH*HEIGHT*SAMPLES*(BITS_PER_SAMPLES/8)
      ---------------------------------------   ---------------------------------
          directory/image description data                 image data
</pre><p> The free space, indicated as <code>SOME_FREE_SPACE</code> is used to store contents of extended fields, like RATIONAL or ARRAY fields.</p>
<p>Every image in the file will have this size and unused bytes are set to 0x00. <a class="el" href="group__tinytiffwriter.html#ga1df3025eb5ade77792e35a63ec23e58e" title="write a new image to the give TIFF file">TinyTIFFWriter_writeImage()</a> then works like this: The image description data is first assembled in memory, then the complete image description data and the complete image data is written to the file all together. This reduces the number of file access operations and writes the data in two reltively large chunks which allows the operating system to properly optimize file access. Finally this method will save the position of the <code>NEXT_IFD_OFFSET</code> field in the image header. The <code>NEXT_IFD_OFFSET</code> field is filled with the adress of the next potential image.</p>
<p>Finally the method <a class="el" href="group__tinytiffwriter.html#ga366c67ab9dfdfe17c68460607140e449" title="close a given TIFF file">TinyTIFFWriter_close()</a> will write <code>0x00000000</code> into the <code>NEXT_IFD_OFFSET</code> of the last image (as saved above) which ends the list of images in the file.</p>
<p>This ansatz for writing TIFF files is only about a factor of 2 slower than directly writing binary data into a file. In addition the time needed to write an image stays equal also when writing many images, which is NOT the case for libtiff.</p>
<p>Here are some example benchmark data acquired using MinGW on a rather old CentrinoDuo notebook: </p><pre class="fragment">TIFF SPEED TEST, 8-Bit 1000 images 32x32 pixels
  average time to write one image: 17.1907 usecs    range: [7.82222..274.895] usecs
  average image rate: 58.1709 kHz
RAW SPEED TEST, 8-Bit 1000 images 32x32 pixels
  average time to write one image: 21.8469 usecs    range: [2.23492..299.2] usecs
  average image rate: 45.7731 kHz
TIFF SPEED TEST, 16-Bit 1000 images 32x32 pixels
  average time to write one image: 15.2676 usecs    range: [5.5873..262.044] usecs
  average image rate: 65.4983 kHz
RAW SPEED TEST, 16-Bit 1000 images 32x32 pixels
  average time to write one image: 27.5138 usecs    range: [3.63175..296.406] usecs
  average image rate: 36.3454 kHz
LIBTIFF SPEED TEST, 8-Bit 1000 images 32x32 pixels
  average time to write one image: 3024.75 usecs    range: [113.143..7161.52] usecs
  average image rate: 0.330606 kHz
LIBTIFF SPEED TEST, 16-Bit 1000 images 32x32 pixels
  average time to write one image: 3028.42 usecs    range: [120.965..10426.7] usecs
  average image rate: 0.330205 kHz
</pre><p> So this library is about a factor of 2.2 slower than direct binary output (raw) and about a factor of 500 faster than libTIFF. Note however the wide range of per-image write speeds which stems from the time the operating systems takes for file access. But the average rates are very good, so if your image creation is synchronous, you will need to use a FIFO to save images intermediately to account for the write speed jitter. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga366c67ab9dfdfe17c68460607140e449"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga366c67ab9dfdfe17c68460607140e449">&#9670;&nbsp;</a></span>TinyTIFFWriter_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TINYTIFF_EXPORT void TinyTIFFWriter_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *&#160;</td>
          <td class="paramname"><em>tiff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>close a given TIFF file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tiff</td><td>TIFF file to close</td></tr>
  </table>
  </dd>
</dl>
<p>This function also releases memory allocated in <a class="el" href="group__tinytiffwriter.html#ga7a144ed7117c8b024c3e2fa8d000d1d3" title="create a new TIFF file">TinyTIFFWriter_open()</a> in <em>tiff</em>. </p>

</div>
</div>
<a id="ga87c3007027681975457e9481c418599d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga87c3007027681975457e9481c418599d">&#9670;&nbsp;</a></span>TinyTIFFWriter_close_withdescription()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TINYTIFF_EXPORT void TinyTIFFWriter_close_withdescription </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *&#160;</td>
          <td class="paramname"><em>tiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>imageDescription</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>close a given TIFF file and write the given string into the IMageDescription tag of the first frame in the file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tiff</td><td>TIFF file to close </td></tr>
    <tr><td class="paramname">imageDescription</td><td>ImageDescription tag contents (max. size: TINYTIFFWRITER_DESCRIPTION_SIZE, including trailing 0!!!)</td></tr>
  </table>
  </dd>
</dl>
<p>This function also releases memory allocated in <a class="el" href="group__tinytiffwriter.html#ga7a144ed7117c8b024c3e2fa8d000d1d3" title="create a new TIFF file">TinyTIFFWriter_open()</a> in <em>tiff</em>. </p>

</div>
</div>
<a id="ga8a883fbe4bd0cce48ac504e67b5e1bf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a883fbe4bd0cce48ac504e67b5e1bf3">&#9670;&nbsp;</a></span>TinyTIFFWriter_close_withmetadatadescription()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TINYTIFF_EXPORT void TinyTIFFWriter_close_withmetadatadescription </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *&#160;</td>
          <td class="paramname"><em>tiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pixel_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>pixel_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>frametime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>deltaz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>close a given TIFF file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tiff</td><td>TIFF file to close </td></tr>
    <tr><td class="paramname">pixel_width</td><td>pixel width in nanometers </td></tr>
    <tr><td class="paramname">pixel_height</td><td>pixel width in nanometers </td></tr>
    <tr><td class="paramname">deltaz</td><td>in a multi-frame-TIFF distance between image planes in nanometers </td></tr>
    <tr><td class="paramname">frametime</td><td>in a multi-frame-TIFF frametime in seconds <pre class="fragment">This functions writes some additional data into the ImageDescription field of the first frame, if it is proved (!=0!!!).
</pre> It also writes the image count there. The ImageDescription finally has the form: <pre class="fragment">    TinyTIFFWriter_version=1.1
    images=1000
    pixel_width=100
    pixel_height=100
    deltaz=100
    frametime=1e-4
</pre></td></tr>
  </table>
  </dd>
</dl>
<p>This function also releases memory allocated in <a class="el" href="group__tinytiffwriter.html#ga7a144ed7117c8b024c3e2fa8d000d1d3" title="create a new TIFF file">TinyTIFFWriter_open()</a> in <em>tiff</em>. </p>

</div>
</div>
<a id="gaf443341dec7c3c1201a89ee01dad6a50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf443341dec7c3c1201a89ee01dad6a50">&#9670;&nbsp;</a></span>TinyTIFFWriter_getLastError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TINYTIFF_EXPORT const char* TinyTIFFWriter_getLastError </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *&#160;</td>
          <td class="paramname"><em>tiff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns a pointer to the last error message </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tiff</td><td>TIFF file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>the pointer is accessible as long as the TIFF file has not been closed using TINYTIFFWRITER_close() </dd></dl>

</div>
</div>
<a id="ga7a144ed7117c8b024c3e2fa8d000d1d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a144ed7117c8b024c3e2fa8d000d1d3">&#9670;&nbsp;</a></span>TinyTIFFWriter_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TINYTIFF_EXPORT <a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a>* TinyTIFFWriter_open </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>bitsPerSample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>samples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>height</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create a new TIFF file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>name of the new TIFF file </td></tr>
    <tr><td class="paramname">number</td><td>of samples per pixel (e.g. 3 for RGB images) </td></tr>
    <tr><td class="paramname">bitsPerSample</td><td>bits used to save each sample of the images </td></tr>
    <tr><td class="paramname">width</td><td>width of the images in pixels </td></tr>
    <tr><td class="paramname">height</td><td>height of the images in pixels </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new <a class="el" href="struct_tiny_t_i_f_f_writer_file.html" title="this struct represents a TIFF file">TinyTIFFWriterFile</a> pointer on success, or NULL on errors </dd></dl>

</div>
</div>
<a id="gaef1f6713057c840699396f4483e21329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef1f6713057c840699396f4483e21329">&#9670;&nbsp;</a></span>TinyTIFFWriter_success()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TINYTIFF_EXPORT int TinyTIFFWriter_success </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *&#160;</td>
          <td class="paramname"><em>tiff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns TINYTIFFWRITER_TRUE (non-zero) when there was no error in the last function call, or TINYTIFFWRITER_FALSE if there was an error </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tiff</td><td>TIFF file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0178ab29f0f245891db5af6888d8a88d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0178ab29f0f245891db5af6888d8a88d">&#9670;&nbsp;</a></span>TinyTIFFWriter_wasError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TINYTIFF_EXPORT int TinyTIFFWriter_wasError </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *&#160;</td>
          <td class="paramname"><em>tiff</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>returns TRUE (non-zero) when there was an error in the last function call, or FALSE (zero) if there was no error </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tiff</td><td>TIFF file </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1df3025eb5ade77792e35a63ec23e58e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1df3025eb5ade77792e35a63ec23e58e">&#9670;&nbsp;</a></span>TinyTIFFWriter_writeImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TINYTIFF_EXPORT int TinyTIFFWriter_writeImage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a> *&#160;</td>
          <td class="paramname"><em>tiff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>write a new image to the give TIFF file </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tiff</td><td>TIFF file to write to </td></tr>
    <tr><td class="paramname">data</td><td>points to the image in row-major ordering with the right bit-depth, multi-sample data has to be provided in the "chunky" format, e.g. if you have 3 samples ("R", "G" and "B"), the the data in this field has to be <code>R1G1B1|R2G2B2|R3G3B3|R4G4B4|</code>... </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TINYTIFFWRITER_TRUE on success and TINYTIFFWRITER_FALSE on failure. An error description can be obtained by calling <a class="el" href="group__tinytiffwriter.html#gaf443341dec7c3c1201a89ee01dad6a50" title="returns a pointer to the last error message">TinyTIFFWriter_getLastError()</a>. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__tinytiffwriter_html_ga7a144ed7117c8b024c3e2fa8d000d1d3"><div class="ttname"><a href="group__tinytiffwriter.html#ga7a144ed7117c8b024c3e2fa8d000d1d3">TinyTIFFWriter_open</a></div><div class="ttdeci">TinyTIFFWriterFile * TinyTIFFWriter_open(const char *filename, uint16_t bitsPerSample, uint16_t samples, uint32_t width, uint32_t height)</div><div class="ttdoc">create a new TIFF file</div><div class="ttdef"><b>Definition:</b> tinytiffwriter.c:663</div></div>
<div class="ttc" id="agroup__tinytiffwriter_html_ga366c67ab9dfdfe17c68460607140e449"><div class="ttname"><a href="group__tinytiffwriter.html#ga366c67ab9dfdfe17c68460607140e449">TinyTIFFWriter_close</a></div><div class="ttdeci">void TinyTIFFWriter_close(TinyTIFFWriterFile *tiff)</div><div class="ttdoc">close a given TIFF file</div><div class="ttdef"><b>Definition:</b> tinytiffwriter.c:890</div></div>
<div class="ttc" id="astruct_tiny_t_i_f_f_writer_file_html"><div class="ttname"><a href="struct_tiny_t_i_f_f_writer_file.html">TinyTIFFWriterFile</a></div><div class="ttdoc">this struct represents a TIFF file</div><div class="ttdef"><b>Definition:</b> tinytiffwriter.c:92</div></div>
<div class="ttc" id="agroup__tinytiffwriter_html_ga1df3025eb5ade77792e35a63ec23e58e"><div class="ttname"><a href="group__tinytiffwriter.html#ga1df3025eb5ade77792e35a63ec23e58e">TinyTIFFWriter_writeImage</a></div><div class="ttdeci">int TinyTIFFWriter_writeImage(TinyTIFFWriterFile *tiff, const void *data)</div><div class="ttdoc">write a new image to the give TIFF file</div><div class="ttdef"><b>Definition:</b> tinytiffwriter.c:848</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Aug 14 2020 14:37:53 for TinyTIFF by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
